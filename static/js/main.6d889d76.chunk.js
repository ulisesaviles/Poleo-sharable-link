(this["webpackJsonpweb-app"]=this["webpackJsonpweb-app"]||[]).push([[0],{193:function(e,t,a){"use strict";a.r(t);var s=a(0),n=a.n(s),o=a(67),c=a.n(o),i=(a(74),a(75),a(23)),l=a(3),r=a(4),d=a(24),u=a.n(d),j=a(39),b=a(68),p=a.p+"static/media/dark-loader.824c3104.gif",O=a.p+"static/media/logoForLight.437059c6.png",h=a.p+"static/media/logoForDark.47b59b98.png",m=a(38),g=a(1),f=function(){var e=Object(l.f)().pollId,t=Object(s.useState)(!0),a=Object(r.a)(t,2),n=a[0],o=(a[1],Object(s.useState)("No data")),c=Object(r.a)(o,2),d=c[0],f=c[1],x=Object(s.useState)("logo-container start-screen"),N=Object(r.a)(x,2),v=N[0],q=N[1],S=Object(s.useState)("logo"),I=Object(r.a)(S,2),k=I[0],w=I[1],y=Object(s.useState)(""),L=Object(r.a)(y,2),T=L[0],F=L[1],C=Object(s.useState)("No data"),P=Object(r.a)(C,2),R=P[0],B=P[1];function A(){return void 0==e||0==e.length?Object(g.jsxs)("div",{style:{display:"flex","flex-direction":"column"},children:[Object(g.jsx)("input",{onChange:function(e){F(e.target.value.toLowerCase())},placeholder:"Ingresa el ID",className:"pollId-input"}),Object(g.jsx)(i.b,{to:"/Poleo-sharable-link/".concat(T),className:"pollId-btn",children:Object(g.jsx)("h1",{className:"pollId-btn-txt",children:"Contestar"})})]}):Object(g.jsx)(g.Fragment,{})}"No data"==R&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?(B("dark"),f(h)):(B("light"),f(O)),window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",(function(e){e.matches?(B("dark"),f(h)):(B("light"),f(O))}))),void 0==e||0==e.length||n&&setTimeout((function(){q("logo-container header"),w("logo header-logo")}),1e3);var M=Object(s.useState)(!1),D=Object(r.a)(M,2),E=D[0],J=D[1],z=Object(s.useState)(!1),G=Object(r.a)(z,2),H=G[0],V=G[1];H||(window.scrollTo(0,0),V(!0));var W=Object(s.useState)("initial"),Z=Object(r.a)(W,2),K=Z[0],Q=Z[1],U=Object(s.useState)("No data"),X=Object(r.a)(U,2),Y=X[0],$=X[1];"No data"==Y&&void 0!=e&&$(localStorage.getItem(e)),"true"==Y&&(Q("loadingResults"),J(!0),$(!0));var _=Object(s.useState)(0),ee=Object(r.a)(_,2),te=ee[0],ae=ee[1],se=Object(s.useState)("multiTextOption"),ne=Object(r.a)(se,2),oe=ne[0],ce=ne[1],ie=Object(s.useState)("Loading..."),le=Object(r.a)(ie,2),re=le[0],de=le[1],ue=Object(s.useState)([]),je=Object(r.a)(ue,2),be=je[0],pe=je[1],Oe=Object(s.useState)([]),he=Object(r.a)(Oe,2),me=he[0],ge=he[1],fe=Object(s.useState)("poll-options-container"),xe=Object(r.a)(fe,2),Ne=xe[0],ve=xe[1],qe=Object(s.useState)("poll-question"),Se=Object(r.a)(qe,2),Ie=Se[0],ke=Se[1],we=Object(s.useState)([]),ye=Object(r.a)(we,2),Le=ye[0],Te=ye[1];E&&J(!1);var Fe=Object(s.useState)("No data"),Ce=Object(r.a)(Fe,2),Pe=Ce[0],Re=Ce[1];function Be(t){setTimeout((function(){if(ve("poll-options-container dissapear-left"),ke("poll-question dissapear-left"),te+1==Pe.questions.length&&t){Q("loadingResults"),localStorage.setItem(e,"true");var a={userId:"anonim",method:"submitAnswers",pollId:e,answers:Le};u()({method:"post",url:"https://us-central1-poleoo.cloudfunctions.net/randomNumber",data:a}),localStorage.setItem(e,"true")}t&&te+1<Pe.questions.length&&setTimeout((function(){de(Pe.questions[te+1].title[Pe.defaultLang]),pe(Pe.questions[te+1].options),ce(Pe.questions[te+1].type);for(var e=[],t=0;t<Pe.questions[te+1].options.length;t++)e.push("".concat(Pe.questions[te+1].type,"-container"));ge(e),ae(te+1),ke("poll-question hide dissapear-right"),ve("poll-options-container hide dissapear-right"),setTimeout((function(){ke("poll-question"),ve("poll-options-container"),J(!0)}),200)}),200)}),500)}function Ae(t){if(Pe.questions[te].filter.isFilter)return!(Pe.questions[te].filter.correctIndexes.indexOf(t)<0)||(localStorage.setItem(e,"true"),$("true"),Q("loadingResults"),!1);var a=Le;return a.push(t),Te(a),!0}"No data"==Pe&&void 0!=e&&u()({method:"post",url:"https://us-central1-poleoo.cloudfunctions.net/randomNumber",data:{method:"queryPollByPollId",pollId:e}}).then((function(t){Re(t.data),"true"!=localStorage.getItem(e)&&Q("answering"),de(t.data.questions[te].title[t.data.defaultLang]),pe(t.data.questions[te].options),ce(t.data.questions[te].type);for(var a=[],s=0;s<t.data.questions[te].options.length;s++)a.push("".concat(t.data.questions[te].type,"-container"));ge(a)}));var Me,De=Object(s.useState)("No data"),Ee=Object(r.a)(De,2),Je=Ee[0],ze=Ee[1];return"loadingResults"==K&&void 0!=e&&(Q("final"),u()({method:"post",url:"https://us-central1-poleoo.cloudfunctions.net/randomNumber",data:{method:"queryResultsByPollId",pollId:e}}).then((function(e){ze(e.data),J(!0)}))),"loadingResults"==K||"final"==K?Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)("div",{className:v,children:Object(g.jsxs)(m.a,{children:[Object(g.jsx)("img",{src:d,alt:"Poleo",className:k}),A()]})}),Object(g.jsxs)("div",{className:"content-container",children:[Object(g.jsxs)("div",{className:"poll-container",children:[Object(g.jsx)("h1",{className:"",children:"No data"==Pe?"Loading results...":Pe.title[Pe.defaultLang]}),function(){if("No data"==Je)return Object(g.jsx)("img",{className:"loading-gif",alt:"Loading...",src:p});if("Poll results are private"==Je)return Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)("h3",{children:"es"==Pe.defaultLang?"Gracias por contestar!":"Thank you for answering!"}),Object(g.jsx)(j.a,{className:"check-mark"})]});if("No data"!=Pe){for(var e=[],t=[],a=0;a<Pe.questions.length;a++)if(!Pe.questions[a].filter.isFilter){e.push([]),t.push(Pe.questions[a].title[Pe.defaultLang]);for(var s=0;s<Pe.questions[a].options.length;s++)"multiTextOption"==Pe.questions[a].type?e[a].push(Pe.questions[a].options[s][Pe.defaultLang]):e[a].push(Pe.questions[a].options[s].name[Pe.defaultLang])}return Object(g.jsx)("div",{className:"results-container",children:Je.map((function(a){return Object(g.jsxs)("div",{className:"chart-container",children:[Object(g.jsx)("h2",{className:"results-question",children:t[Je.indexOf(a)]}),Object(g.jsx)(b.HorizontalBar,{data:{labels:e[Je.indexOf(a)],datasets:[{label:"Votos",data:a,backgroundColor:"rgba(18, 229, 122, 0.3)",borderColor:"rgb(18, 229, 122)",borderWidth:3,maxBarThickness:30}]},options:{maintainAspectRatio:!0,scales:{xAxes:[{ticks:{beginAtZero:!0}}]}},height:120,className:"results-chart"})]})}))})}}()]}),Object(g.jsx)("p",{style:{color:"rgba(255,255,255,1)"},children:E})]})]}):Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)("div",{className:v,children:Object(g.jsxs)(m.a,{children:[Object(g.jsx)("img",{src:d,alt:"Poleo",className:k}),A()]})}),Object(g.jsxs)("div",{className:"content-container",children:[Object(g.jsxs)("div",{className:"poll-container",children:[Object(g.jsx)("h1",{className:Ie,children:re}),Object(g.jsx)("div",{className:Ne,style:{display:"multiImgOption"==oe?"flex":"block"},children:(Me=oe,"multiTextOption"==Me?be.map((function(e){return Object(g.jsxs)("div",{className:me[be.indexOf(e)],onClick:function(){var t=me;t[be.indexOf(e)]="multiTextOption-container multiTextOption-container-selected",ge(t),J(!0),Be(Ae(be.indexOf(e)))},children:[Object(g.jsx)(j.b,{className:"unchecked-icon"}),Object(g.jsx)("p",{className:"option-text",children:e[Pe.defaultLang]})]})})):"multiImgOption"==Me?be.map((function(e){return Object(g.jsxs)("div",{className:me[be.indexOf(e)],onClick:function(){var t=me;t[be.indexOf(e)]="multiImgOption-container multiTextOption-container-selected",ge(t),J(!0),Be(Ae(be.indexOf(e)))},children:[Object(g.jsx)("img",{className:"option-img",alt:"img",src:e.img}),Object(g.jsx)("p",{className:"option-text",children:void 0==e.name?"":e.name[Pe.defaultLang]})]})})):void 0)}),Object(g.jsxs)("div",{className:"progress-bar-content-container",children:[Object(g.jsx)("div",{className:"progress-bar-container",children:Object(g.jsx)("div",{className:"progress-bar",style:{width:"No data"==Pe?"0%":"".concat((te+1)/Pe.questions.length*100,"%")}})}),Object(g.jsx)("p",{children:"".concat(te+1," de ").concat("No data"==Pe?0:Pe.questions.length)})]})]}),Object(g.jsx)("p",{style:{color:"rgba(255,255,255,1)"},children:E})]})]})};var x=function(){return Object(g.jsx)(i.a,{children:Object(g.jsxs)(l.c,{children:[Object(g.jsx)(l.a,{path:"/:pollId",component:f}),Object(g.jsx)(l.a,{path:"/",component:f})]})})},N=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,194)).then((function(t){var a=t.getCLS,s=t.getFID,n=t.getFCP,o=t.getLCP,c=t.getTTFB;a(e),s(e),n(e),o(e),c(e)}))};c.a.render(Object(g.jsx)(n.a.StrictMode,{children:Object(g.jsx)(x,{})}),document.getElementById("root")),N()},74:function(e,t,a){},75:function(e,t,a){}},[[193,1,2]]]);
//# sourceMappingURL=main.6d889d76.chunk.js.map